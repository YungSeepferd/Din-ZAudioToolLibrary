var H=Object.defineProperty;var M=s=>{throw TypeError(s)};var Z=(s,e,t)=>e in s?H(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var k=(s,e,t)=>Z(s,typeof e!="symbol"?e+"":e,t),B=(s,e,t)=>e.has(s)||M("Cannot "+t);var a=(s,e,t)=>(B(s,e,"read from private field"),t?t.call(s):e.get(s)),v=(s,e,t)=>e.has(s)?M("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),N=(s,e,t,r)=>(B(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);import{C as Y,D as J,E as y,F as K,q as w,G as x,n as m,z as Q,H as V,I as W,J as X,o as j,K as ee,L as se,M as te,N as ae,B as re,O as F,P as ie,Q as fe,b as U,R as ne,S as q,U as ce,V as de,W as ue,g as O,f as he,X as _e,Y as le,Z as oe,_ as ve,x as be,$ as ge,a0 as Se,l as Pe,a1 as Ee,a2 as Ae,a3 as Re,a4 as Ie}from"./Wv6JicDl.js";var _,l,h,E,A,T;class Te{constructor(e,t=!0){k(this,"anchor");v(this,_,new Map);v(this,l,new Map);v(this,h,new Map);v(this,E,!0);v(this,A,()=>{var e=Y;if(a(this,_).has(e)){var t=a(this,_).get(e),r=a(this,l).get(t);if(r)J(r);else{var f=a(this,h).get(t);f&&(a(this,l).set(t,f.effect),a(this,h).delete(t),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),r=f.effect)}for(const[i,c]of a(this,_)){if(a(this,_).delete(i),i===e)break;const n=a(this,h).get(c);n&&(y(n.effect),a(this,h).delete(c))}for(const[i,c]of a(this,l)){if(i===t)continue;const n=()=>{if(Array.from(a(this,_).values()).includes(i)){var o=document.createDocumentFragment();V(c,o),o.append(w()),a(this,h).set(i,{effect:c,fragment:o})}else y(c);a(this,l).delete(i)};a(this,E)||!r?K(c,n,!1):n()}}});v(this,T,e=>{a(this,_).delete(e);const t=Array.from(a(this,_).values());for(const[r,f]of a(this,h))t.includes(r)||(y(f.effect),a(this,h).delete(r))});this.anchor=e,N(this,E,t)}ensure(e,t){var r=Y,f=W();if(t&&!a(this,l).has(e)&&!a(this,h).has(e))if(f){var i=document.createDocumentFragment(),c=w();i.append(c),a(this,h).set(e,{effect:x(()=>t(c)),fragment:i})}else a(this,l).set(e,x(()=>t(this.anchor)));if(a(this,_).set(r,e),f){for(const[n,d]of a(this,l))n===e?r.skipped_effects.delete(d):r.skipped_effects.add(d);for(const[n,d]of a(this,h))n===e?r.skipped_effects.delete(d.effect):r.skipped_effects.add(d.effect);r.oncommit(a(this,A)),r.ondiscard(a(this,T))}else m&&(this.anchor=Q),a(this,A).call(this)}}_=new WeakMap,l=new WeakMap,h=new WeakMap,E=new WeakMap,A=new WeakMap,T=new WeakMap;function me(s,e,t=!1){m&&j();var r=new Te(s),f=t?ee:0;function i(c,n){if(m){const o=se(s)===te;if(c===o){var d=ae();re(d),r.anchor=d,F(!1),r.ensure(c,n),F(!0);return}}r.ensure(c,n)}X(()=>{var c=!1;e((n,d=!0)=>{c=!0,i(d,n)}),c||i(!1,null)},f)}function C(s,e){return s===e||s?.[q]===e}function De(s={},e,t,r){return ie(()=>{var f,i;return fe(()=>{f=i,i=[],U(()=>{s!==t(...i)&&(e(s,...i),f&&C(t(...f),s)&&e(null,...f))})}),()=>{ne(()=>{i&&C(t(...i),s)&&e(null,...i)})}}),s}let I=!1;function pe(s){var e=I;try{return I=!1,[s(),I]}finally{I=e}}function Le(s,e,t,r){var f=!Pe||(t&Ee)!==0,i=(t&Se)!==0,c=(t&Re)!==0,n=r,d=!0,o=()=>(d&&(d=!1,n=c?U(r):r),n),g;if(i){var $=q in s||Ie in s;g=ce(s,e)?.set??($&&e in s?u=>s[e]=u:void 0)}var S,D=!1;i?[S,D]=pe(()=>s[e]):S=s[e],S===void 0&&r!==void 0&&(S=o(),g&&(f&&de(),g(S)));var b;if(f?b=()=>{var u=s[e];return u===void 0?o():(d=!0,u)}:b=()=>{var u=s[e];return u!==void 0&&(n=void 0),u===void 0?n:u},f&&!(t&ue))return b;if(g){var z=s.$$legacy;return function(u,R){return arguments.length>0?((!f||!R||z||D)&&g(R?b():u),u):b()}}var p=!1,P=(t&Ae?he:_e)(()=>(p=!1,b()));i&&O(P);var G=be;return function(u,R){if(arguments.length>0){const L=R?O(P):f&&i?le(u):u;return oe(P,L),p=!0,n!==void 0&&(n=L),u}return ve&&p||G.f&ge?P.v:O(P)}}export{Te as B,De as b,me as i,Le as p};
//# sourceMappingURL=CI2neQpF.js.map
